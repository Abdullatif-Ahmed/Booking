"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[627],{9512:function(e,i,t){t.r(i),t.d(i,{default:function(){return A}});var l=t(2982),a=t(885),n=t(6114),r=t(3747),s=t(2599),d=t(1951),o=t(9040),c=t(2791),m=t(7022),u=t(3053),p=t(9461),v=t(9743),h=t(2677),x=t(1087),f=t(5464),g=t(7348),j=t(3718),y=t(6239),b=t(1908),N=t(184),S=function(e){var i,t,a,n,r,s,d=e.data,o=e.sendFilters,m=e.lg,u=(0,b.Z)(),p=u.add,v=u.remove,h=(0,c.useRef)();return(0,c.useEffect)((function(){if(o){var e=Array.from(h.current.querySelectorAll("input[data-id]")).filter((function(e){return e.checked&&"false"===e.dataset.default})).map((function(e){return{id:e.dataset.id,val:e.value,name:e.dataset.name}}));o((0,l.Z)(new Map(e.map((function(e){return[e.val,e]}))).values()))}}),[d,o]),(0,N.jsx)("div",{className:"filters ".concat(m?"lg":""),ref:h,children:(0,N.jsxs)("div",{className:"filterSection",children:[(0,N.jsx)("h3",{className:"filters-heading",children:null===d||void 0===d||null===(a=d.data)||void 0===a||null===(n=a.propertySearch.universalSortAndFilter.filterSections)||void 0===n?void 0:n[1].title}),null===d||void 0===d||null===(r=d.data)||void 0===r||null===(s=r.propertySearch.universalSortAndFilter.filterSections)||void 0===s?void 0:s[1].fields.map((function(e){return"Star rating"===e.primary||"Property type"===e.primary||"Hotels.com\xae Rewards"===e.primary||"Your budget"===e.primary?"":(0,N.jsxs)("fieldset",{className:"fieldset mt-3",children:[e.primary&&(0,N.jsx)("legend",{children:e.primary}),"ShoppingMultiSelectionField"===e.__typename||"ShoppingMultiSelectionTileField"===e.__typename?(e.multiSelectionOptions||e.tileMultiSelectionOptions).map((function(i){return(0,N.jsxs)("div",{className:"input-container",children:[(0,N.jsx)(y.Z.Input,{"data-default":i.default,"data-name":i.primary.length>21?i.primary.slice(0,21)+"...":i.primary,"data-id":"regionId"!==i.id?i.id:"F".concat(i.id),type:"checkbox",name:e.primary,id:"".concat(e.primary,"_").concat(i.value),disabled:i.disabled,checked:i.selected,value:i.value,onChange:function(e){!0===e.target.checked?"regionId"!==i.id?p(i.id,i.value,"multi"):p("F".concat(i.id),i.value,"single"):"regionId"!==i.id?v(i.id,i.value):v("F".concat(i.id),i.value)}}),(0,N.jsx)(y.Z.Label,{htmlFor:"".concat(e.primary,"_").concat(i.value),title:i.primary,children:i.primary.length>17?i.primary.slice(0,17)+"...":i.primary})]},i.value)})):"ShoppingSelectionField"===e.__typename?e.options.map((function(i){return(0,N.jsxs)("div",{className:"input-container",children:[(0,N.jsx)(y.Z.Input,{"data-default":i.default,"data-name":i.primary.length>21?i.primary.slice(0,21)+"...":i.primary,"data-id":"regionId"!==i.id?i.id:"F".concat(i.id),type:"radio",name:e.primary,id:"".concat(e.primary,"_").concat(i.value),disabled:i.disabled,checked:i.selected,value:i.value,onChange:function(e){!0===e.target.checked&&p("regionId"!==i.id?i.id:"F".concat(i.id),i.value,"single")}}),(0,N.jsx)(y.Z.Label,{htmlFor:"".concat(e.primary,"_").concat(i.value),children:i.primary.length>21?i.primary.slice(0,21)+"...":i.primary})]},""===i.value?Math.random():i.value)})):"ShoppingMultiSelectionStackedTileField"===e.__typename?(0,N.jsx)("div",{className:"d-flex flex-wrap",children:e.tileMultiSelectionOptions.map((function(i){return(0,N.jsxs)("div",{className:"input-container rating me-1 mb-1",children:[(0,N.jsx)("input",{className:"d-none","data-name":i.primary.length>21?i.primary.slice(0,21)+"...":i.primary,"data-default":i.default,type:"checkbox","data-id":i.id,name:e.primary,id:"".concat(e.primary,"_").concat(i.value),disabled:i.disabled,checked:i.selected,value:i.value,onChange:function(e){!0===e.target.checked&&p(i.id,i.value,"single")}}),(0,N.jsxs)("label",{htmlFor:"".concat(e.primary,"_").concat(i.value),children:[i.primary," ",i.icon?"10"===i.value?i.icon.description:i.icon.description+"s":""]})]},i.value)}))}):(e.__typename,"")]},(null===e||void 0===e?void 0:e.primary)||Math.random())}))]},null===d||void 0===d||null===(i=d.data)||void 0===i||null===(t=i.propertySearch.universalSortAndFilter.filterSections)||void 0===t?void 0:t[1].title)})},w=t(6053),F=t(4164),Z=function(e){var i=e.children,t=e.open,l=e.close,a=e.removeFilters;return t?document.body.classList.add("modalOpen"):document.body.classList.remove("modalOpen"),t&&(0,F.createPortal)((0,N.jsxs)("div",{className:"d-lg-none",children:[(0,N.jsx)("div",{className:"overlay"}),(0,N.jsx)("section",{className:"position-fixed mobileFiltersModel rounded pt-5",children:(0,N.jsxs)("div",{className:"content ",children:[(0,N.jsxs)("header",{className:"w-100 d-flex align-items-center justify-content-between p-3 border-bottom position-fixed start-0 top-0 rounded-top",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center ",children:[(0,N.jsx)("button",{"aria-label":"close model",className:"me-1",onClick:l,children:(0,N.jsx)(w.v8y,{size:25})}),(0,N.jsx)("h3",{className:"mb-0 title",children:"Sort & filters"})]}),(0,N.jsx)("button",{className:"btn1",onClick:a,children:"Clear"})]}),(0,N.jsx)("div",{className:"p-3 pt-4",children:i})]})})]}),document.getElementById("portal"))},k=t(2140),I=t(9279),D=t(7692),M=t(7689),C=t(4373),_=t(7425),O=t(8820),T=t(3688),E=function(e){var i,t,l,a,n,r=e.item,s=(0,c.useContext)(T.V),d=s.savedHotels,o=s.handleSave,m=s.user,u=d.some((function(e){return e.id===r.id})),p=(0,M.TH)().search;return(0,N.jsxs)("div",{className:"d-flex flex-column flex-md-row item",children:[(0,N.jsxs)("div",{className:"leftPart position-relative",children:[(0,N.jsx)(x.rU,{to:"/".concat(r.id,"/").concat(r.name.split(" ").join("-")).concat(p),children:(0,N.jsx)("div",{className:"img-container h-100",children:(0,N.jsx)("img",{loading:"lazy",width:"285",src:null===r||void 0===r||null===(i=r.propertyImage)||void 0===i?void 0:i.image.url,alt:r.name,className:"w-100"})})}),(0,N.jsx)("button",{className:"position-absolute fav-btn",onClick:function(){return m?o(r.id,r.name,null===r||void 0===r?void 0:r.propertyImage.image.url):alert("you must logIn")},children:u?(0,N.jsx)(O.M_L,{size:22,className:"exIcon"}):(0,N.jsx)(O.lo,{size:22,className:"notExIcon"})})]}),(0,N.jsx)("div",{className:"meta-data",children:(0,N.jsxs)(x.rU,{to:"/".concat(r.id,"/").concat(r.name.split(" ").join("-")).concat(p),className:"h-100 d-md-flex flex-column justify-content-between",children:[(0,N.jsx)("div",{className:"topPart",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"title",title:r.name,children:[r.name," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sunt, cumque?"]}),(0,N.jsx)("span",{className:"text",children:null===(t=r.neighborhood)||void 0===t?void 0:t.name})]})}),(0,N.jsxs)("div",{className:"bottomPart d-flex align-items-center justify-content-between",children:[(0,N.jsx)("div",{className:"labels align-self-end",children:r.offerSummary.messages.map((function(e){var i;return(0,N.jsxs)("div",{className:"".concat("SUCCESS"===e.theme?"success":""," label d-flex align-items-center"),children:["loyalty"===(null===e||void 0===e||null===(i=e.mark)||void 0===i?void 0:i.id)?(0,N.jsx)(_.CB2,{size:20,className:"me-1 icon"}):"",e.message]},20*Math.random()+10*Math.random())}))}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{children:[(null===(l=r.offerBadge)||void 0===l?void 0:l.primary)&&(0,N.jsxs)("div",{className:"text-right",children:[" ",(0,N.jsxs)("span",{className:"offerBadge member",children:[r.offerBadge.primary.icon_temp&&(0,N.jsx)(C.fWU,{size:19,className:"me-1"}),"".concat(r.offerBadge.primary.text," available")]})]}),(null===(a=r.offerBadge)||void 0===a?void 0:a.secondary)&&(0,N.jsx)("div",{className:"text-right",children:(0,N.jsx)("span",{className:"offerBadge off",children:r.offerBadge.secondary.text})})]}),(0,N.jsxs)("div",{className:"price",children:[r.price.strikeOut&&(0,N.jsx)("del",{className:"prevPrice",children:r.price.strikeOut.formatted}),(0,N.jsx)("span",{className:"currentPrice",children:null===(n=r.price.lead)||void 0===n?void 0:n.formatted})]})]}),(0,N.jsxs)("div",{className:"text-right reviews",children:[(0,N.jsx)("strong",{children:r.reviews.score}),"/10"," ",(0,N.jsxs)("span",{className:"total",children:["(",r.reviews.total," reviews)"]})]})]})]})]})})]})},L=t(6856),P=function(){var e,i,t,y,F,M,C,_,O,T,P,A,z=(0,c.useState)(!1),B=(0,a.Z)(z,2),R=B[0],U=B[1],H=(0,c.useState)(!1),Y=(0,a.Z)(H,2),q=Y[0],G=Y[1],J=(0,x.lr)(),V=(0,a.Z)(J,1)[0],W=(0,c.useState)([]),K=(0,a.Z)(W,2),Q=K[0],X=K[1],$=(0,j.Z)().split,ee=(0,b.Z)(),ie=ee.add,te=ee.remove,le=ee.removeAll,ae=(0,g.Z)("POST","https://hotels4.p.rapidapi.com/properties/v2/list",JSON.stringify({currency:"USD",eapid:1,locale:"en_US",siteId:300000001,destination:{regionId:V.get("regionId"),coordinates:{latitude:V.get("latLong")&&parseFloat(V.get("latLong").split(",")[0]),longitude:V.get("latLong")&&parseFloat(V.get("latLong").split(",")[1])}},checkInDate:{day:(0,n.Z)(new Date(V.get("startDate"))),month:(0,r.Z)(new Date(V.get("startDate")))+1,year:(0,s.Z)(new Date(V.get("startDate")))},checkOutDate:{day:(0,n.Z)(new Date(V.get("endDate"))),month:(0,r.Z)(new Date(V.get("endDate")))+1,year:(0,s.Z)(new Date(V.get("endDate")))},rooms:$(V.get("travellers")||""),resultsStartingIndex:0,resultsSize:200,sort:V.get("sort")||"RECOMMENDED",filters:{hotelName:V.get("hotelName"),guestRating:V.get("guestRating"),accessibility:null===(e=V.get("accessibility"))||void 0===e?void 0:e.split(","),travelerType:null===(i=V.get("travelerType"))||void 0===i?void 0:i.split(","),mealPlan:null===(t=V.get("mealPlan"))||void 0===t?void 0:t.split(","),poi:V.get("poi"),regionId:V.get("FregionId"),amenities:null===(y=V.get("amenities"))||void 0===y?void 0:y.split(","),paymentType:null===(F=V.get("paymentType"))||void 0===F?void 0:F.split(","),bedroomFilter:null===(M=V.get("bedroomFilter"))||void 0===M?void 0:M.split(","),availableFilter:V.get("availableFilter")}})),ne=ae.data,re=ae.loading,se=ae.error,de=ae.reFetch;console.log(ne);var oe=V.get("location");(0,c.useEffect)((function(){document.title=oe}),[oe]),(0,c.useEffect)((function(){V.has("regionId")||(ie("regionId",2621,"single"),ie("latLong","40.712843,-74.005966","single"),ie("location","New York, United States","single")),V.has("travellers")||ie("travellers",1,"single"),V.has("startDate")&&V.has("endDate")||(ie("startDate",(0,d.default)((0,o.default)(new Date,10),"yyyy-MM-dd"),"single"),ie("endDate",(0,d.default)((0,o.default)(new Date,11),"yyyy-MM-dd"),"single"))}),[V,ie]),(0,c.useEffect)((function(){var e=function(){window.scrollY>=800?G(!0):G(!1)};return window.addEventListener("scroll",e),function(){return clearInterval("scroll",e)}}));var ce=(0,c.useCallback)((function(e){X(e)}),[]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("main",{className:"searchMain py-4",children:[(0,N.jsx)("button",{onClick:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0},className:"rounded-circle position-fixed to-top ".concat(q?"show":""),children:(0,N.jsx)(L.InZ,{size:23})}),(0,N.jsx)("section",{className:"mb-3",children:(0,N.jsx)(m.Z,{children:(0,N.jsx)(f.Z,{searchPage:!0})})}),(0,N.jsx)("section",{className:"results-sec",children:(0,N.jsx)(m.Z,{children:se?(0,N.jsx)("div",{children:(0,N.jsx)(I.Z,{reFetch:de,messege:"faild to load the properties"})}):null!==ne&&void 0!==ne&&ne.errors?(0,N.jsxs)("div",{className:"d-flex align-items-center flex-column pt-4 mb-3",children:[(0,N.jsx)(D.Goc,{size:22}),(0,N.jsx)("h1",{children:"No matches"}),(0,N.jsx)("span",{className:"text",children:"try to remove filters"}),(0,N.jsx)("button",{onClick:function(){return le(["guestRating","accessibility","travelerType","mealPlan","poi","FregionId","amenities","paymentType","bedroomFilter","availableFilter"])},"aria-label":"remove all filters",className:" removeAll",children:"Remove all filters"})]}):(0,N.jsxs)("div",{className:"wraper d-lg-flex",children:[(0,N.jsx)("aside",{className:"d-none d-lg-block",children:(0,N.jsx)(S,{data:ne,sendFilters:ce,lg:!0})}),(0,N.jsxs)("div",{className:"widget",children:[(0,N.jsxs)("header",{className:" mb-3",children:[(0,N.jsx)("div",{className:"d-lg-none mobile-models-btns d-flex align-items-center w-100 mb-2",children:(0,N.jsx)("div",{className:"btn-container ",children:(0,N.jsx)("button",{onClick:function(){return U(!0)},"aria-label":"open sort and filter model",className:"w-100 rounded-pill p-1",children:"Sort & filter"})})}),(0,N.jsx)("div",{children:(0,N.jsxs)("ul",{className:"d-flex flex-wrap align-items-center",children:[Q.map((function(e){return(0,N.jsx)("li",{className:"me-2",children:(0,N.jsxs)("button",{className:"deleteFilter  rounded-pill d-flex justify-content-between align-items-center",onClick:function(){return te(e.id,e.val)},"aria-label":"delete this filter",children:[e.name,(0,N.jsx)(w.v8y,{size:19,className:"ms-2 icon"})]})},e.val)})),0!==Q.length&&(0,N.jsx)("li",{children:(0,N.jsx)("button",{onClick:function(){return le(Q.map((function(e){return e.id})))},"aria-label":"remove all filters",className:" removeAll",children:"Remove all filters"})})]})}),(0,N.jsxs)("div",{className:"d-flex justify-content-center justify-content-lg-between align-items-center",children:[(0,N.jsx)("span",{className:"text",children:null===ne||void 0===ne||null===(C=ne.data)||void 0===C?void 0:C.propertySearch.summary.resultsTitleModel.header}),null===ne||void 0===ne||null===(_=ne.data)||void 0===_||null===(O=_.propertySearch.universalSortAndFilter.sortSections)||void 0===O?void 0:O[0].fields.map((function(e){return(0,N.jsx)("div",{className:"d-none d-lg-block",children:(0,N.jsx)(u.Z,{controlId:"floatingSelect",label:e.primary,children:(0,N.jsx)(p.Z.Select,{value:e.dropdownFilterOptions.find((function(e){return!0===e.selected})).value,"aria-label":e.primary,onChange:function(e){console.log(e.target.value),ie("sort",e.target.value,"single")},children:e.dropdownFilterOptions.map((function(e){return(0,N.jsx)("option",{value:e.value,children:e.primary},e.value)}))})})},e.primary)}))]})]}),(0,N.jsx)("div",{className:"properties-boxes mb-3",children:(0,N.jsx)(v.Z,{children:re?(0,l.Z)(Array(6)).map((function(){return(0,N.jsx)(h.Z,{xs:"12",className:"px-1 px-xl-2 mb-2 mb-xl-3",children:(0,N.jsxs)("div",{className:"d-flex flex-column flex-md-row rounded",children:[(0,N.jsx)("div",{children:(0,N.jsx)(k.Z,{shape:"rect",width:"100%",height:180})}),(0,N.jsxs)("div",{className:"p-2",children:[(0,N.jsx)("div",{className:"mb-2",children:(0,N.jsx)(k.Z,{shape:"rect",width:"100%",height:20})}),(0,N.jsx)("div",{className:"mb-2",children:(0,N.jsx)(k.Z,{shape:"rect",width:"90%",height:20})}),(0,N.jsx)("div",{className:"mb-2",children:(0,N.jsx)(k.Z,{shape:"rect",width:"77%",height:20})})]})]})},10*Math.random()+20*Math.random())})):null===ne||void 0===ne||null===(T=ne.data)||void 0===T?void 0:T.propertySearch.properties.map((function(e){return(0,N.jsx)(h.Z,{xs:"12",className:"px-2 mb-3 ",children:(0,N.jsx)(E,{item:e})},e.id+100*Math.random())}))})})]})]})})})]}),(0,N.jsxs)(Z,{open:R,close:function(){return U(!1)},removeFilters:function(){return le(Q.map((function(e){return e.id})))},children:[se?(0,N.jsx)("div",{children:(0,N.jsx)(I.Z,{reFetch:de,messege:"faild to load the properties"})}):null!==ne&&void 0!==ne&&ne.errors?null:null===ne||void 0===ne||null===(P=ne.data)||void 0===P||null===(A=P.propertySearch.universalSortAndFilter.sortSections)||void 0===A?void 0:A[0].fields.map((function(e){return(0,N.jsx)("div",{children:(0,N.jsx)(u.Z,{controlId:"floatingSelect",label:e.primary,children:(0,N.jsx)(p.Z.Select,{value:e.dropdownFilterOptions.find((function(e){return!0===e.selected})).value,"aria-label":e.primary,onChange:function(e){return ie("sort",e.target.value,"single")},children:e.dropdownFilterOptions.map((function(e){return(0,N.jsx)("option",{value:e.value,children:e.primary},e.value)}))})})},e.primary)})),(0,N.jsx)(S,{data:ne})]})]})},A=(0,c.memo)(P)}}]);
//# sourceMappingURL=627.9ec87ef3.chunk.js.map