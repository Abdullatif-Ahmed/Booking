"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[464],{9279:function(e,n,t){var a=t(1213),s=t(7692),l=t(3948),r=t(184);n.Z=function(e){var n=e.reFetch,t=e.messege;return(0,r.jsxs)("div",{className:"text-center ",children:[(0,r.jsxs)(l.Z,{variant:"danger",className:"rounded-0",children:[(0,r.jsx)(s.Cw1,{className:"me-2",size:30}),t]}),(0,r.jsxs)("button",{className:"btn1",onClick:function(e){e.preventDefault(),n()},children:[(0,r.jsx)(a._W0,{size:17,className:"me-1"})," try again"]})]})}},5464:function(e,n,t){t.d(n,{Z:function(){return z}});var a=t(885),s=t(458),l=t(8617),r=t(6856),c=t(6355),i=t(7692),o=t(2791),d=t(7348),u=t(643),m=t(9501),h=t(3053),p=t(9461),f=(t(2978),t(666),t(7161)),g=t(9040),x=t(1951),j=t(1413),v=t(2982),N="CHANGE_STATE",b="ADD_ROOM",y="REMOVE_ROOM",D="INCREASE_ADULTS",Z="DECREASE_ADULTS",C="INCREASE_CHILDREN",k="DECREASE_CHILDREN",S="SELECT_CHILD_AGE";var w=function(e,n){switch(n.type){case N:return n.payload;case b:if(e.length<8)return[].concat((0,v.Z)(e),[{adults:1,children:[]}]);break;case y:if(e.length>1)return e.filter((function(e,t){return t!==n.payload}));break;case D:return e.map((function(e,t){return t===n.payload&&e.adults<15?(0,j.Z)((0,j.Z)({},e),{},{adults:e.adults+1}):e}));case Z:return e.map((function(e,t){return t===n.payload&&e.adults>1?(0,j.Z)((0,j.Z)({},e),{},{adults:e.adults-1}):e}));case C:return e.map((function(e,t){return 6===e.children.length||t!==n.payload?e:(0,j.Z)((0,j.Z)({},e),{},{children:[].concat((0,v.Z)(e.children),[{age:!1}])})}));case k:return e.map((function(e,t){return t===n.payload?(0,j.Z)((0,j.Z)({},e),{},{children:e.children.filter((function(n,t){return t!==e.children.length-1}))}):e}));case S:return e.map((function(e,t){return t===n.payload.romInd?(0,j.Z)((0,j.Z)({},e),{},{children:e.children.map((function(e,t){return t===n.payload.chInd?(0,j.Z)((0,j.Z)({},e),{},{age:n.payload.selectedAge}):e}))}):e}));default:return e}},M=t(7689),E=t(1908),I=t(1087),R=t(3718),A=t(9279),L=t(184),T=function(e){var n,t,j=e.searchPage,v=(0,R.Z)(),T=v.join,z=v.split,F=(0,M.s0)(),G=(0,I.lr)(),_=(0,a.Z)(G,1)[0],P=(0,o.useState)(_.get("location")||""),H=(0,a.Z)(P,2),O=H[0],X=H[1],W=(0,o.useState)(null),q=(0,a.Z)(W,2),U=q[0],B=q[1],K=(0,o.useState)(!1),V=(0,a.Z)(K,2),J=V[0],Q=V[1],Y=(0,o.useState)(!1),$=(0,a.Z)(Y,2),ee=$[0],ne=$[1],te=(0,o.useState)(!1),ae=(0,a.Z)(te,2),se=ae[0],le=ae[1],re=(0,o.useState)(!1),ce=(0,a.Z)(re,2),ie=ce[0],oe=ce[1],de=(0,o.useState)(!1),ue=(0,a.Z)(de,2),me=ue[0],he=ue[1],pe=(0,o.useRef)(),fe=(0,o.useRef)(),ge=(0,o.useRef)(),xe=(0,o.useRef)(),je=(0,o.useState)([{startDate:_.has("startDate")?new Date(_.get("startDate")):(0,g.default)(new Date,10),endDate:_.has("endDate")?new Date(_.get("endDate")):(0,g.default)(new Date,11),key:"selection"}]),ve=(0,a.Z)(je,2),Ne=ve[0],be=ve[1],ye=_.get("travellers")?z(_.get("travellers")):[{adults:1,children:[]}],De=(0,o.useReducer)(w,ye),Ze=(0,a.Z)(De,2),Ce=Ze[0],ke=Ze[1],Se=(0,o.useState)(ye),we=(0,a.Z)(Se,2),Me=we[0],Ee=we[1],Ie=(0,E.Z)().add;(0,o.useEffect)((function(){Ce.some((function(e){return e.children.some((function(e){return!1===e.age}))}))||he(!1)}),[Ce]),(0,o.useEffect)((function(){function e(e){ee&&!fe.current.contains(e.target)&&(ne(!1),ke({type:N,payload:Me})),!se||ge.current.contains(e.target)||xe.current.contains(e.target)||le(!1)}return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}));var Re=(0,d.Z)("GET","https://hotels4.p.rapidapi.com/locations/v3/search?q=".concat(O.trim())),Ae=Re.data,Le=Re.loading,Te=Re.error,ze=Re.reFetch;return(0,L.jsxs)(L.Fragment,{children:[j&&(0,L.jsxs)("button",{className:"d-flex align-items-center searchToggle w-100  d-lg-none ".concat(ie?"d-none":"d-inline-block"),onClick:function(){return oe(!0)},children:[(0,L.jsx)(i.Goc,{size:16,className:"me-2"}),(0,L.jsxs)("div",{children:[(0,L.jsx)("h1",{className:"location",children:O}),(0,L.jsxs)("span",{children:[" ",(0,x.default)(Ne[0].startDate,"dd MMM")," -"," ",(0,x.default)(Ne[0].endDate,"dd MMM")]}),(0,L.jsxs)("span",{className:"ms-2",children:[Ce.reduce((function(e,n){return e+(n.adults+n.children.length)}),0)," ","travellers, ",Ce.length," room"]})]})]}),(0,L.jsxs)("form",{className:"".concat(j?"searchPage":"landingPage"," ").concat(j?"".concat(ie?"d-block":"d-none"," d-lg-block"):""," searchForm d-lg-flex align-items-center justify-content-between"),onSubmit:function(e){e.preventDefault(),null===U?Q(!0):F("/search?location=".concat(U.regionNames.secondaryDisplayName,"&startDate=").concat((0,x.default)(Ne[0].startDate,"yyyy,MM,dd"),"&endDate=").concat((0,x.default)(Ne[0].endDate,"yyyy,MM,dd"),"&travellers=").concat(T(Me),"&latLong=").concat(U.coordinates.lat,",").concat(U.coordinates.long,"&regionId=").concat(U.gaiaId))},children:[(0,L.jsxs)(m.Z,{show:se,className:"formGroup h-100 position-relative",children:[(0,L.jsxs)(m.Z.Toggle,{ref:xe,onClick:function(){return le((function(e){return!e}))},className:"d-flex align-items-center toggle-btn ".concat(J?"error":""),children:[(0,L.jsx)(s.v2c,{size:23,className:"icon"}),(0,L.jsxs)("div",{className:"renderGroup",children:[(0,L.jsx)("label",{htmlFor:"location",children:"Location"}),(0,L.jsx)("p",{className:"m-0 text",children:_.get("location")||(null===U||void 0===U?void 0:U.regionNames.primaryDisplayName)||"Going to"})]})]}),(0,L.jsxs)(m.Z.Menu,{ref:ge,className:"modal-dropDown search-modal position-absolute  ",children:[(0,L.jsx)("input",{spellCheck:"false",autoFocus:!0,autoComplete:"off",className:"text w-100 border-bottom",type:"text",placeholder:"Where are you going?",id:"location",value:O,onInput:function(e){return X(e.target.value)}}),0===O.trim().length||0===(null===Ae||void 0===Ae||null===(n=Ae.sr)||void 0===n?void 0:n.length)?(0,L.jsxs)("div",{className:"text-center pt-4 p-1",children:[(0,L.jsx)(s.w75,{className:" mb-2",size:40}),(0,L.jsx)("p",{className:"text",children:"Search by destination, accommodation or landmark"})]}):Te?(0,L.jsx)(A.Z,{reFetch:ze,messege:"Faild to load the locations"}):(0,L.jsxs)("div",{children:[Le?(0,L.jsx)(u.VF,{height:"100",width:"100",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperStyle:{},wrapperClass:"justify-content-center mb-3 pt-5 spinner",visible:!0}):(0,L.jsx)("ul",{className:"search-list",children:null===Ae||void 0===Ae||null===(t=Ae.sr)||void 0===t?void 0:t.map((function(e){return(0,L.jsx)("li",{children:(0,L.jsxs)("button",{className:"d-flex align-items-center search-item w-100",onClick:function(n){var t;n.preventDefault(),t=e,le(!1),B(t),X(t.regionNames.primaryDisplayName),Q(!1),j&&(Ie("location",t.regionNames.secondaryDisplayName,"single"),Ie("latLong","".concat(t.coordinates.lat,",").concat(t.coordinates.long),"single"),Ie("regionId",t.gaiaId,"single"))},children:[(0,L.jsx)("div",{children:"AIRPORT"===e.type?(0,L.jsx)(r.vc9,{size:15,className:"icon"}):"HOTEL"===e.type?(0,L.jsx)(c.m17,{size:15,className:"icon"}):(0,L.jsx)(l.XAC,{size:15,className:"icon"})}),(0,L.jsxs)("div",{className:"item-regionNames",children:[(0,L.jsx)("span",{className:"item-primaryName d-block",children:e.regionNames.primaryDisplayName}),(0,L.jsx)("span",{className:"item-secondaryName",children:e.regionNames.secondaryDisplayName})]})]})},e.essId.sourceId)}))}),(0,L.jsxs)("p",{className:" d-flex align-items-center justify-content-center m-0 p-3",children:[(0,L.jsx)(s.w75,{size:20,className:"icon me-1"}),' Search for "',O,'"']})]})]})]}),(0,L.jsxs)(m.Z,{className:"formGroup  position-relative",children:[(0,L.jsxs)(m.Z.Toggle,{className:"d-flex align-items-center toggle-btn",children:[(0,L.jsx)(s.v_l,{size:23,className:"icon"}),(0,L.jsxs)("div",{className:"renderGroup",children:[(0,L.jsx)("label",{htmlFor:"Dates",children:"Dates"}),(0,L.jsxs)("p",{className:"text m-o",children:[(0,x.default)(Ne[0].startDate,"dd MMM")," -"," ",(0,x.default)(Ne[0].endDate,"dd MMM")]})]})]}),(0,L.jsx)(m.Z.Menu,{className:"modal-dropDown  position-absolute  ",children:(0,L.jsx)(f.C0,{editableDateInputs:!0,onChange:function(e){return function(e){be([e.selection]),j&&(Ie("startDate",(0,x.default)(e.selection.startDate,"yyyy-MM-dd"),"single"),Ie("endDate",(0,x.default)(e.selection.endDate,"yyyy-MM-dd"),"single"))}(e)},moveRangeOnFirstSelection:!1,ranges:Ne,minDate:new Date,className:"w-100 date-range",rangeColors:["#fa3734"],color:"#fc4c4c",fixedHeight:!0})})]}),(0,L.jsxs)(m.Z,{className:"formGroup  position-relative",children:[(0,L.jsxs)(m.Z.Toggle,{ref:fe,onClick:function(e){e.preventDefault(),ne((function(e){return!e}))},className:" d-flex align-items-center toggle-btn ".concat(me?"error":""),"aria-label":"add travellers",children:[(0,L.jsx)(s.WCB,{size:23,className:"icon"}),(0,L.jsxs)("div",{className:"renderGroup",children:[(0,L.jsx)("label",{children:"Travellers"}),(0,L.jsxs)("p",{className:"text m-0",children:[Ce.reduce((function(e,n){return e+(n.adults+n.children.length)}),0)," ","travellers, ",Ce.length," room"]})]})]}),(0,L.jsxs)(m.Z.Menu,{onClick:function(e){return e.stopPropagation()},show:ee,ref:pe,className:"modal-dropDown travellers-modal position-absolute ".concat(ee?"d-block":"d-none"),children:[(0,L.jsx)("ul",{className:"rooms",children:Ce.map((function(e,n){return(0,L.jsxs)("li",{className:"room mb-3",children:[(0,L.jsxs)("h2",{className:"room-heading mb-2",children:["Room ",n+1]}),(0,L.jsxs)("div",{className:"room-item d-flex align-items-center justify-content-between mb-3",children:[(0,L.jsx)("label",{className:"room-item-label",children:"Adults"}),(0,L.jsxs)("div",{className:"activites d-flex align-items-center",children:[(0,L.jsx)("button",{disabled:1===e.adults,className:"rounded-circle ",onClick:function(){return ke({type:Z,payload:n})},children:"-"}),(0,L.jsx)("span",{className:"num",children:e.adults}),(0,L.jsx)("button",{disabled:8===e.adults,className:"rounded-circle ",onClick:function(){return ke({type:D,payload:n})},children:"+"})]})]}),(0,L.jsxs)("div",{className:"room-item d-flex align-items-center justify-content-between mb-3",children:[(0,L.jsx)("label",{className:"room-item-label",children:"Children"}),(0,L.jsxs)("div",{className:"activites d-flex align-items-center",children:[(0,L.jsx)("button",{disabled:0===e.children.length,className:"rounded-circle ",onClick:function(){return ke({type:k,payload:n})},children:"-"}),(0,L.jsx)("span",{className:"num",children:e.children.length}),(0,L.jsx)("button",{disabled:6===e.children.length,className:"rounded-circle ",onClick:function(){return ke({type:C,payload:n})},children:"+"})]})]}),(0,L.jsx)("ul",{className:"children mb-2",children:e.children.map((function(e,t){return(0,L.jsxs)("li",{children:[(0,L.jsx)(h.Z,{controlId:"floatingSelectGrid",label:"child ".concat(t+1),children:(0,L.jsxs)(p.Z.Select,{className:"".concat(!1===e.age&&me?"error":""),value:e.age,onChange:function(e){return ke({type:S,payload:{romInd:n,chInd:t,selectedAge:e.target.value}})},children:[(0,L.jsx)("option",{value:!1,"aria-selected":!1,className:"d-none"}),(0,L.jsx)("option",{value:"0",children:"Under 1"}),(0,L.jsx)("option",{value:"1",children:"1"}),(0,L.jsx)("option",{value:"2",children:"2"}),(0,L.jsx)("option",{value:"3",children:"3"}),(0,L.jsx)("option",{value:"4",children:"4"}),(0,L.jsx)("option",{value:"5",children:"5"}),(0,L.jsx)("option",{value:"6",children:"6"}),(0,L.jsx)("option",{value:"7",children:"7"}),(0,L.jsx)("option",{value:"8",children:"8"}),(0,L.jsx)("option",{value:"9",children:"9"}),(0,L.jsx)("option",{value:"10",children:"10"}),(0,L.jsx)("option",{value:"11",children:"11"}),(0,L.jsx)("option",{value:"12",children:"12"}),(0,L.jsx)("option",{value:"13",children:"13"}),(0,L.jsx)("option",{value:"14",children:"14"}),(0,L.jsx)("option",{value:"15",children:"15"}),(0,L.jsx)("option",{value:"16",children:"16"}),(0,L.jsx)("option",{value:"17",children:"17"})]})}),!1===e.age&&me?(0,L.jsx)("span",{style:{color:"#fa3734",fontWeight:600,fontSize:"13px"},children:"Select the child age"}):""]},1e3*Math.random())}))}),Ce.length>1&&(0,L.jsx)("button",{className:"btn1 ms-auto d-block",onClick:function(){return ke({type:y,payload:n})},children:"Remove room"})]},1e3*Math.random())}))}),(0,L.jsx)("button",{className:"btn1 d-block ms-auto mb-4",disabled:8===Ce.length,onClick:function(e){e.preventDefault(),ke({type:b})},children:"Add another room"}),(0,L.jsx)("button",{onClick:function(e){e.preventDefault(),Ce.some((function(e){return e.children.some((function(e){return!1===e.age}))}))?he(!0):(Ee(Ce),j&&Ie("travellers",T(Ce),"single"),ne(!1))},className:"w-100 btn2 rounded-5",children:"Done"})]})]}),j?(0,L.jsx)("div",{className:"text-center py-2",children:(0,L.jsx)("button",{className:"d-lg-none btn1 p-1",onClick:function(){return oe(!1)},children:"Close"})}):(0,L.jsx)("button",{"aria-label":"search",type:"submit",className:"w-100 submitBtn btn2",children:"Search"})]})]})},z=(0,o.memo)(T)},7348:function(e,n,t){var a=t(885),s=t(2388),l=t(2791);n.Z=function(e,n,t){var r=(0,l.useState)(null),c=(0,a.Z)(r,2),i=c[0],o=c[1],d=(0,l.useState)(!1),u=(0,a.Z)(d,2),m=u[0],h=u[1],p=(0,l.useState)(null),f=(0,a.Z)(p,2),g=f[0],x=f[1];(0,l.useEffect)((function(){h(!0),s.Z.request({method:e,url:n,headers:{"X-RapidAPI-Key":"baf13d74e8msh12169f5fbbbfd71p18b500jsn640911db0c97","X-RapidAPI-Host":"hotels4.p.rapidapi.com","content-type":"application/json"},data:t}).then((function(e){return o(e.data)})).catch((function(e){return x(e)})).finally((function(){return h(!1)}))}),[n,e,t]);return{data:i,loading:m,error:g,reFetch:function(){h(!0),x(null),s.Z.request({method:e,url:n,headers:{"X-RapidAPI-Key":"baf13d74e8msh12169f5fbbbfd71p18b500jsn640911db0c97","X-RapidAPI-Host":"hotels4.p.rapidapi.com"}}).then((function(e){return o(e.data)})).catch((function(e){return x(e)})).finally((function(){return h(!1)}))}}}},1908:function(e,n,t){var a=t(885),s=t(1087);n.Z=function(){var e=(0,s.lr)(),n=(0,a.Z)(e,2),t=n[0],l=n[1];return{add:function(e,n,a){if("multi"===a){var s=t.get(e);s?t.set(e,"".concat(s,",").concat(n)):t.set(e,n)}else t.set(e,n);l(t)},remove:function(e,n){var a=t.get(e);a.split(",").length>1?t.set(e,a.split(",").filter((function(e){return e!==n}))):t.delete(e),l(t)},removeAll:function(e){e.forEach((function(e){return t.delete(e)})),l(t)}}}},3718:function(e,n){n.Z=function(){return{join:function(e){return e.map((function(e){return 0===e.children.length?e.adults:"".concat(e.adults,"-").concat(e.children.map((function(e){return e.age})))})).join("|")},split:function(e){return e.split("|").map((function(e){var n,t=e.split("-");return{adults:parseInt(t[0]),children:(null===(n=t[1])||void 0===n?void 0:n.split(",").map((function(e){return{age:parseInt(e)}})))||[]}}))}}}}}]);
//# sourceMappingURL=464.1b5d22c1.chunk.js.map